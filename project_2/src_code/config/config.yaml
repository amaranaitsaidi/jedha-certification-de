# Amazon Review Analysis Pipeline Configuration
# ==============================================

# Data Source Configuration
data_source:
  product_id: null  # If null, will process all products

  # S3 Paths - Direct URLs to each table
  s3_paths:
    product: "s3://${AWS_S3_BUCKET}/raw/product/product.csv"
    category: "s3://${AWS_S3_BUCKET}/raw/category/category.csv"
    review: "s3://${AWS_S3_BUCKET}/raw/review/review.csv"
    product_reviews: "s3://${AWS_S3_BUCKET}/raw/product_reviews/product_reviews.csv"
    review_images: "s3://${AWS_S3_BUCKET}/raw/review_images/review_images.csv"

# Storage Configuration
storage:
  # S3 Configuration
  s3:
    enabled: true
    bucket: "${AWS_S3_BUCKET}"
    prefix: "review-analysis/"
    region: "eu-west-1"
    access_key_id: "${AWS_ACCESS_KEY_ID}"
    secret_access_key: "${AWS_SECRET_ACCESS_KEY}"

  # MongoDB Configuration
  mongodb:
    enabled: true
    connection_string: "${MONGODB_CONNECTION_STRING}"
    # Format: mongodb://user:password@localhost:27017/ or mongodb+srv://...
    database: "amazon_reviews"
    collection: "review_analysis"

  # Snowflake Configuration (Data Warehouse)
  snowflake:
    enabled: true
    account: "${SNOWFLAKE_ACCOUNT}"
    user: "${SNOWFLAKE_USER}"
    password: "${SNOWFLAKE_PASSWORD}"
    warehouse: "${SNOWFLAKE_WAREHOUSE}"
    database: "${SNOWFLAKE_DATABASE}"
    schema: "${SNOWFLAKE_SCHEMA}"
    role: "${SNOWFLAKE_ROLE}"

  # Local Storage
  local:
    enabled: true
    output_dir: "outputs"

# Logging Configuration
logging:
  level: "INFO"  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
  log_dir: "logs"
